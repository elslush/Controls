@using Controls.Buttons
@using Controls.Css
@using System.Drawing
@using static Controls.Colors.ColorExtensions

<BasicButton 
    Href=@Href 
    CssClasses=CssClasses
    DefaultStyle=buttonDefault 
    HoverStyle=buttonHover 
    OnClick=OnClick 
    ChildContent=ChildContent>
</BasicButton>

@code {
    private Styles buttonDefault, buttonHover;
    private static readonly Style defaultBackground = new Style("background-color", Color.FromArgb(94, 164, 228).ToRGBStyle()),
        defaultText = new Style("color", Color.White.ToRGBStyle()),
        hoverBackground = new Style("background-color", Color.FromArgb(79, 132, 185).ToRGBStyle()),
        hoverText = new Style("color", Color.White.ToRGBStyle());

    [Parameter]
    public string? Href { get; set; }

    [Parameter]
    public EventCallback OnClick { get; set; }

    [Parameter, EditorRequired]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public Classes? CssClasses { get; set; }

    [Parameter]
    public IEnumerable<Style> CssStyles { get; set; } = Enumerable.Empty<Style>();

    protected override void OnParametersSet()
    {
        buttonDefault = new(CssStyles.Append(defaultBackground).Append(defaultText));
        buttonHover = new(CssStyles.Append(defaultBackground).Append(defaultText));
    }
}
