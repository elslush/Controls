@typeparam TItem

@foreach (var item in Items)
{
    @ChildContent(item)
}

@code {
    private bool shouldRender;

    private IEnumerable<TItem> previousItems = Enumerable.Empty<TItem>();

    [Parameter, EditorRequired]
    public RenderFragment<TItem> ChildContent { get; set; }

    [Parameter, EditorRequired]
    public IEnumerable<TItem> Items { get; set; } = Enumerable.Empty<TItem>();

    protected override void OnParametersSet()
    {
        shouldRender = !Items.SequenceEqual(previousItems);
        previousItems = Items;
    }

    protected override bool ShouldRender() => shouldRender;
}
